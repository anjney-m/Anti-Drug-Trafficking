<!DOCTYPE html>
<html class="dark" lang="en">
<head>
<meta charset="utf-8"/>
<meta content="width=device-width, initial-scale=1.0" name="viewport"/>
<title>Contact Us - Drug Trafficking Tracker</title>
<script src="https://cdn.tailwindcss.com?plugins=forms,container-queries"></script>
<link href="https://fonts.googleapis.com" rel="preconnect"/>
<link crossorigin="" href="https://fonts.gstatic.com" rel="preconnect"/>
<link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;700&amp;display=swap" rel="stylesheet"/>
<link href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined" rel="stylesheet"/>
<script>
    tailwind.config = {
        darkMode: "class",
        theme: {
            extend: {
                colors: {
                    "primary": "#0f66bd",
                    "background-light": "#f6f7f8",
                    "background-dark": "#101922",
                },
                fontFamily: {
                    "display": ["Inter", "sans-serif"]
                },
                borderRadius: {
                    "DEFAULT": "0.25rem",
                    "lg": "0.5rem",
                    "xl": "0.75rem",
                    "full": "9999px"
                },
            },
        },
    }
</script>
</head>
<body class="font-display bg-background-light dark:bg-background-dark text-slate-800 dark:text-slate-200">
<div class="relative flex h-auto min-h-screen w-full flex-col overflow-x-hidden">
  <div class="layout-container flex h-full grow flex-col">
    <header class="flex items-center justify-between whitespace-nowrap border-b border-slate-200 dark:border-slate-800 px-10 py-3">
      <div class="flex items-center gap-4">
        <div class="size-6 text-primary">
          <svg fill="none" viewBox="0 0 48 48" xmlns="http://www.w3.org/2000/svg">
            <path d="M24 45.8096C19.6865 45.8096 15.4698 44.5305 11.8832 42.134C8.29667 39.7376 5.50128 36.3314 3.85056 32.3462C2.19985 28.361 1.76794 23.9758 2.60947 19.7452C3.451 15.5145 5.52816 11.6284 8.57829 8.5783C11.6284 5.52817 15.5145 3.45101 19.7452 2.60948C23.9758 1.76795 28.361 2.19986 32.3462 3.85057C36.3314 5.50129 39.7376 8.29668 42.134 11.8833C44.5305 15.4698 45.8096 19.6865 45.8096 24L24 24L24 45.8096Z" fill="currentColor"></path>
          </svg>
        </div>
        <h2 class="text-lg font-bold text-slate-900 dark:text-white">Drug Trafficking Tracker</h2>
      </div>

      <div class="flex flex-1 justify-end gap-6 items-center">
        <nav class="flex items-center gap-6">
          <a class="text-sm font-medium hover:text-primary" href="../Front End/index.htm">Home</a>
          <a class="text-sm font-medium hover:text-primary" href="../Front End/DP1.html">Dashboard</a>
          <a class="text-sm font-medium text-primary" href="cp.html">Contact</a>
        </nav>

        <button class="relative flex items-center justify-center size-10 rounded-full hover:bg-slate-200 dark:hover:bg-slate-800">
          <span class="material-symbols-outlined text-2xl">notifications</span>
        </button>

        <div class="bg-center bg-no-repeat aspect-square bg-cover rounded-full size-10" style='background-image: url("https://lh3.googleusercontent.com/aida-public/AB6AXuDobHAsF9V0WQrOOYci1zMFP3b8n6vmLYIVqCrQnCSEuxA6UuWVWnpRGq8tqMwWPgjYGDQNMRxOV6n4zQSWxt4QUgSgC_iIxtyLdVl1sit603y5DBHaeoLkRP0Y95ce0LEI_P9juLA2ULaUCV0vjut9KpU2Tpq-WqtT8gr_cEMre0wGpKlut486hk5qVXyFHwz6mYVddoRtHKz02rEQSztUzK7Mlmr7ruzESk1yBWrM6kbeKeFCFcbo0OU2dcpOJD_mhZrGZqiAEYU");'></div>
      </div>
    </header>

    <main class="flex flex-1 justify-center py-12 px-4 sm:px-6 lg:px-8">
      <div class="w-full max-w-4xl space-y-12">
        <div>
          <h1 class="text-4xl font-bold tracking-tight text-slate-900 dark:text-white">Contact Us</h1>
          <p class="mt-4 text-lg text-slate-600 dark:text-slate-400">
            We value your feedback and inquiries. Please feel free to reach out to our team or use the form below.
          </p>
        </div>

        <div class="grid grid-cols-1 md:grid-cols-2 gap-12">
          <div class="space-y-8">
            <div>
              <h3 class="text-2xl font-bold text-slate-900 dark:text-white">Our Team</h3>
              <div class="mt-4 space-y-4">
                <div class="flex items-center gap-4 p-4 rounded-lg bg-slate-100 dark:bg-slate-800/50">
                  <div class="flex-shrink-0">
                    <img alt="Dr. Emily Carter" class="h-12 w-12 rounded-full" src="https://lh3.googleusercontent.com/aida-public/AB6AXuBv24PO4FvuSgSIKRO3udjsa2so7irP0ww48uQnQiox2Y9Ifgg_YI6syZjtHjECTuy3nXAqO0YZJaUUOwlWP5SNFQGZcvaXgtWMcOKS47dqJhGFqAI5bSW9SbZRm5nqwDdKUOiH6Khq00luCzJHJZ6Z8wmANceLrH4hg9D6l50grrAXL0GlbPnIGB4X90hB_k2oMGeU6yUHqZhjDsnwmHQfAp4ACOeaKwBxW6FXFnXwwyKkv0t7-0gmyl_CMjPrFXT1OBooWZTXjYk"/>
                  </div>
                  <div>
                    <!-- optional bio -->
                  </div>
                </div>

                <div class="flex items-center gap-4 p-4 rounded-lg bg-slate-100 dark:bg-slate-800/50">
                  <div class="flex-shrink-0">
                    <img alt="Dr. David Lee" class="h-12 w-12 rounded-full" src="https://lh3.googleusercontent.com/aida-public/AB6AXuDobHAsF9V0WQrOOYci1zMFP3b8n6vmLYIVqCrQnCSEuxA6UuWVWnpRGq8tqMwWPgjYGDQNMRxOV6n4zQSWxt4QUgSgC_iIxtyLdVl1sit603y5DBHaeoLkRP0Y95ce0LEI_P9juLA2ULaUCV0vjut9KpU2Tpq-WqtT8gr_cEMre0wGpKlut486hk5qVXyFHwz6mYVddoRtHKz02rEQSztUzK7Mlmr7ruzESk1yBWrM6kbeKeFCFcbo0OU2dcpOJD_mhZrGZqiAEYU"/>
                  </div>
                  <div>
                    <p class="font-semibold text-slate-900 dark:text-white">Lalit Kumar Sahoo</p>
                    <p class="text-sm text-slate-500 dark:text-slate-400">lks@example.com</p>
                  </div>
                </div>

                <div class="flex items-center gap-4 p-4 rounded-lg bg-slate-100 dark:bg-slate-800/50">
                  <div class="flex-shrink-0">
                    <img alt="Dr. Sarah Chen" class="h-12 w-12 rounded-full" src="https://lh3.googleusercontent.com/aida-public/AB6AXuDobHAsF9V0WQrOOYci1zMFP3b8n6vmLYIVqCrQnCSEuxA6UuWVWnpRGq8tqMwWPgjYGDQNMRxOV6n4zQSWxt4QUgSgC_iIxtyLdVl1sit603y5DBHaeoLkRP0Y95ce0LEI_P9juLA2ULaUCV0vjut9KpU2Tpq-WqtT8gr_cEMre0wGpKlut486hk5qVXyFHwz6mYVddoRtHKz02rEQSztUzK7Mlmr7ruzESk1yBWrM6kbeKeFCFcbo0OU2dcpOJD_mhZrGZqiAEYU"/>
                  </div>
                  <div>
                    <p class="font-semibold text-slate-900 dark:text-white">Anjney Malik</p>
                    <p class="text-sm text-slate-500 dark:text-slate-400">AM@example.com</p>
                  </div>
                </div>

              </div>
            </div>

            <div>
              <h3 class="text-2xl font-bold text-slate-900 dark:text-white">Institution</h3>
              <p class="mt-2 text-slate-600 dark:text-slate-400">Center for Social Media Analysis</p>
            </div>
          </div>

          <div class="space-y-6">
            <h3 class="text-2xl font-bold text-slate-900 dark:text-white">Send Feedback</h3>

            <!-- NOTE: backend URL - change to your deployed backend (no trailing slash). 
                 For local testing you can use: http://localhost:3000 -->
            <form id="feedbackForm" class="space-y-6">
              <div>
                <label class="block text-sm font-medium text-slate-700 dark:text-slate-300" for="name">Your Name</label>
                <div class="mt-1">
                  <input required id="name" name="name" type="text" placeholder="Enter your name" class="form-input block w-full rounded-lg border-slate-300 dark:border-slate-700 bg-background-light dark:bg-background-dark focus:border-primary focus:ring-primary sm:text-sm py-3 px-4" />
                </div>
              </div>

              <div>
                <label class="block text-sm font-medium text-slate-700 dark:text-slate-300" for="email">Your Email</label>
                <div class="mt-1">
                  <input id="email" name="email" type="email" placeholder="Enter your email" class="form-input block w-full rounded-lg border-slate-300 dark:border-slate-700 bg-background-light dark:bg-background-dark focus:border-primary focus:ring-primary sm:text-sm py-3 px-4" />
                </div>
              </div>

              <div>
                <label class="block text-sm font-medium text-slate-700 dark:text-slate-300" for="feedback">Your Feedback</label>
                <div class="mt-1">
                  <textarea required id="feedback" name="feedback" rows="4" placeholder="Enter your feedback" class="form-textarea block w-full rounded-lg border-slate-300 dark:border-slate-700 bg-background-light dark:bg-background-dark focus:border-primary focus:ring-primary sm:text-sm py-3 px-4"></textarea>
                </div>
              </div>

              <div>
                <!-- Proper submit button (was malformed before) -->
                <button id="submitBtn" type="submit" class="w-full flex justify-center py-3 px-4 border border-transparent rounded-lg shadow-sm text-sm font-medium text-white bg-primary hover:bg-primary/90 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary focus:ring-offset-background-light dark:focus:ring-offset-background-dark">
                  Submit Feedback
                </button>
              </div>
            </form>

            <!-- Feedback result / error area -->
            <div id="feedbackResult" class="text-sm mt-2"></div>

            <script>
              (function () {
                // CHANGE THIS to your deployed backend URL (no trailing slash).
                // Example for Render: 'https://feedback-api.onrender.com'
                // For local testing keep 'http://localhost:3000'
                const BACKEND_BASE = 'http://localhost:3000';

                const form = document.getElementById('feedbackForm');
                const submitBtn = document.getElementById('submitBtn');
                const resultDiv = document.getElementById('feedbackResult');

                form.addEventListener('submit', async function (e) {
                  e.preventDefault();
                  resultDiv.textContent = '';
                  submitBtn.disabled = true;
                  const originalText = submitBtn.textContent;
                  submitBtn.textContent = 'Submitting...';

                  const payload = {
                    name: document.getElementById('name').value.trim(),
                    email: document.getElementById('email').value.trim(),
                    feedback: document.getElementById('feedback').value.trim()
                  };

                  // basic client-side validation
                  if (!payload.name || !payload.feedback) {
                    resultDiv.textContent = 'Please enter your name and feedback.';
                    submitBtn.disabled = false;
                    submitBtn.textContent = originalText;
                    return;
                  }

                  try {
                    const res = await fetch(BACKEND_BASE + '/api/feedback', {
                      method: 'POST',
                      headers: { 'Content-Type': 'application/json' },
                      body: JSON.stringify(payload)
                    });

                    if (!res.ok) {
                      let errText = 'Server error';
                      try { const errJson = await res.json(); errText = errJson.error || errText; } catch (e) {}
                      throw new Error(errText);
                    }

                    const data = await res.json();
                    resultDiv.className = 'text-sm mt-2 text-green-600 dark:text-green-400';
                    resultDiv.textContent = 'Thanks — feedback submitted (id: ' + (data.id || 'N/A') + ')';
                    form.reset();
                  } catch (err) {
                    console.error(err);
                    resultDiv.className = 'text-sm mt-2 text-red-600 dark:text-red-400';
                    resultDiv.textContent = 'Failed to submit feedback: ' + (err.message || err);
                  } finally {
                    submitBtn.disabled = false;
                    submitBtn.textContent = originalText;
                  }
                });
              })();
            </script>

          </div>
        </div>

      </div>
    </main>
  </div>
</div>
</body>
</html>
